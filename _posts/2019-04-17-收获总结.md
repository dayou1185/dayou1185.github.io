---
layout:     post
title:      2019-04-17 收获 总结
subtitle:  系统学习汇编的第一天
date:       2019-04-17
author:     DaYou
header-img: img/post-bg-cook.jpg
catalog: true
---


## 0x1 我为什么会选择从头学习汇编？
我在本科期间没有接触过汇编语言方面的东西，那二进制拆弹是怎么做的呢？二进制拆弹时我是用一点查一点，结合拆弹的一些视频、博客等做的。拆弹结束后，拿到第304号challenge，发现又是和汇编相关的东西，而且不是知道些皮毛就能搞定，所以我在大学生慕课网上找了一个课程，决定慢慢学习。慢慢学，比较快。


## 0x2 汇编语言语句分类和格式

### 1. 指令语句
每一条指令语句在汇编时都要产生一个可供CPU执行的机器目标代码，又叫可执行语句。
一般格式：
```
标号：指令助记符 操作数（，）；注释
```
注：

1. 标号可有可无，后面必须有“：”。标号是一个指令的符号地址，代表了该指令的第一个字节存放地址。标号一般放在一个程序段或子程序的入口处，控制程序的执行转到该程序位置。在转移指令或子程序调用指令中，可直接引用这个标号。
2. 指令助记符表示这条语句要求CPU完成使命具体操作，如MOV、ADD、SHL
3. 操作数数量不定，可以一个、两个、三个
4. 注释字段也是可有可无
举例：
```
ADDR1:ADD AX,BX;功能为AX<=AX+BX
```

### 2. 伪指令语句
仅仅用于告诉汇编程序对其后面的指令语句和伪指令语句的操作数应该如何处理。一般格式：
```
符号名 伪指令符 操作数（，）；注释
```
注：

1. 符号名字段可选，根据伪指令的不同，符号名可以是常量名、变量名、过程名等
2. 伪指令符字段介绍该伪指令的功能
3. 操作数字段可以是常数、字符串等

### 3. 标识符规则
1. 个数为1-31个
2. 第一个字符必须是字母、问号、@或下画线
3. 从第二个字符开始，可以是字母、数字、@、下画线和“？”
4. 不能使用保留字（MOV、ADD ）

## 0x3 汇编语言数据 
一个数据=数值+属性。

### 1.常数
二进制数、八进制数、十进制数、十六进制数、实数（2.14E+10）、字符串常数（引号括起来，以ASCII表示）

（1） 做指令的源操作数
```
MOV AX 0B2F0H
```
（2） 在指令语句的直接寻址方式、变址寻址或基址变址寻址中做位移量
```
MOV BX 32H[SI]
```

### 2.变量
存放数据的存储单元，变量的定义为变量名+初值

一般格式：

变量名+DB(DW、DW、DD...)表达式1，表达式2。
例如：

```
VAR_DATA segment
DATA1 DB 12H
VAR_DATA ENDS
```
赋初值的表达式：
1. D数值表达式：ATA1 DB 32 30H; DATA1的内容为32，DATA1+1的单元内容30H
2. ‘？’表达式：DA-BYTE DA ?,?,?;表示让汇编程序分配三个字节存储单元。这些存储单元的内容的值为任意值。‘？’代表任意内容
3. 字符串表达式：对于DB伪指令，字符串为用引号括起来的不超过255个字符。为每一个字符分配一个字节单元。字符串按从左到右，将字符的ASCII编码值以地址递增的排列顺序依次存放。STRING1 B=DB 'ABCDEF'
4. DUP表达式：DATA_A DB 10H DUP？
